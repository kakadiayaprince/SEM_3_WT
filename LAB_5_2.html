<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>LAB 18 PART A</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
    <div class="container w-25 border bg-light-subtle">
        <div class="row">

        </div>
        <div class="row">
            <div class="container text-center">
                <h2>Login Page </h2>
            </div>

        </div>
        <div class="row">
            <div class="col">
                <form>
                    <div class="mb-3">

                        <input type="text" class="form-control" id="UserName" placeholder="User Name">
                    </div>
                    <div class="mb-3">

                        <input type="password" class="form-control" id="Password" placeholder="Password">
                    </div>
                    <div class="mb-3">

                        <input type="password" class="form-control" id="repetPassword" placeholder="Confirm Password">
                    </div>
                    <div class="mb-3">

                        <input type="date" class="form-control" id="Age"  placeholder="Age">
                    </div>
                    <div class="mb-3">

                        <input type="text" class="form-control" id="EnrollmentNumber" placeholder="Enrollment Number">
                    </div>

                    <div class="mb-3">

                        <input type="email" class="form-control" id="Email" placeholder="E-mail">
                    </div>
                    <div class="row">
                        <div class="col d-flex justify-content-center">
                            <button type="submit" class="btn btn-primary mb-3" onclick='Validate()' ondblclick="calcAge()">Submit</button>

                        </div>
                    </div>
                </form>
            </div>
        </div>

    </div>

    <script>
        function calcAge() {
            let date = document.getElementById('Age').value
            DOB = new Date(date)
            var month_diff = Date.now() - DOB.getTime();
            var age_dt = new Date(month_diff);
            var year = age_dt.getUTCFullYear();
            var age = Math.abs(year - 1970);
            document.getElementById('Age').value = age
            return age;
        }
        function Validate() {
            var UserName = document.getElementById("UserName").value;
            var Password = document.getElementById("Password").value;
            var repetPassword = document.getElementById("repetPassword").value;
            var Age = document.getElementById("Age").value;
            var EnrollmentNumber = document.getElementById("EnrollmentNumber").value;
            var Email = document.getElementById("Email").value;
            let pattern = /[!@#$%*^]{1,}[0-9]{1,}/;
            let pattern1 = /^[a-zA-Z0-9_.Â±]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$/
            let regex = new RegExp(pattern);
            let regex1 = new RegExp(pattern1);
            if (UserName.trim() < 8) {
                alert("Username must be greater than 8 characters");
            }
            else if (regex.test(Password)) {
                alert("Password must contain atleast one special character and one number");
            }
            else if (Password != repetPassword) {
                alert("Password and Confirm Password must be same");
            }
            else if (Age < 18) {
                alert("Age must be greater than 18");
            }
            else if (regex1.test(Email)) {
                alert("Email is not valid");
            }
            else if (EnrollmentNumber.length != 11) {
                alert("Enrollment Number must be 11 digits");
            }
            else {
                alert("Registration Successful");
            }
        }      
    </script>
</body>

</html>